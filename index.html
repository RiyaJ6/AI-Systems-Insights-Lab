<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Systems Insights Lab</title>
    <link rel="icon" type="image/svg+xml" href="assets/brain.svg">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Animated Background Canvas -->
    <canvas id="particleCanvas"></canvas>

    <!-- Navigation -->
    <nav class="glass-nav">
        <div class="nav-brand">
            <svg width="32" height="32" viewBox="0 0 32 32">
                <circle cx="16" cy="16" r="15" fill="#00F5FF"/>
                <path d="M16 6 L20 14 L28 14 L22 20 L24 28 L16 22 L8 28 L10 20 L4 14 L12 14 Z" fill="#FF00FF"/>
            </svg>
            <h1>AI Systems Insights Lab</h1>
        </div>
        <div class="nav-tabs">
            <button class="tab-btn active" data-tab="analyzer">Prompt Analyzer</button>
            <button class="tab-btn" data-tab="simulator">Response Simulator</button>
            <button class="tab-btn" data-tab="context">Context Visualizer</button>
            <button class="tab-btn" data-tab="models">Model Compare</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1 class="hero-title">
            <span class="typewriter" data-text="Decode AI Systems."></span>
            <span class="cursor"></span>
        </h1>
        <p class="hero-subtitle">Interactive laboratory for understanding AI model behavior, costs, and performance</p>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- PROMPT ANALYZER TAB -->
        <section id="analyzer" class="tab-content active">
            <div class="split-layout">
                <div class="glass-card input-section">
                    <h2 class="section-title">üìù Prompt Input</h2>
                    <textarea id="promptInput" placeholder="Enter your AI prompt here...&#10;&#10;Example: &quot;Write a Python function that calculates Fibonacci numbers using memoization. Explain the time complexity.&quot;"></textarea>
                    
                    <div class="controls-grid">
                        <div class="control-group">
                            <label>Model</label>
                            <select id="modelSelect">
                                <option value="gpt-4">GPT-4 Turbo ($0.01/1K tokens)</option>
                                <option value="gpt-3.5">GPT-3.5 Turbo ($0.001/1K tokens)</option>
                                <option value="claude">Claude 3.5 Sonnet ($0.003/1K tokens)</option>
                                <option value="gemini">Gemini 1.5 Pro ($0.0015/1K tokens)</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Temperature: <span id="tempValue">0.7</span></label>
                            <input type="range" id="tempSlider" min="0" max="2" step="0.1" value="0.7">
                            <div class="temperature-visual">
                                <span class="temp-label">Precise</span>
                                <span class="temp-label">Balanced</span>
                                <span class="temp-label">Creative</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="insights-section">
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon">üìè</div>
                            <div class="metric-value" id="charCount">0</div>
                            <div class="metric-label">Characters</div>
                            <div class="metric-bar"><div class="bar-fill" id="charBar"></div></div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üìù</div>
                            <div class="metric-value" id="wordCount">0</div>
                            <div class="metric-label">Words</div>
                            <div class="metric-bar"><div class="bar-fill" id="wordBar"></div></div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üî¢</div>
                            <div class="metric-value" id="tokenCount">0</div>
                            <div class="metric-label">Est. Tokens</div>
                            <div class="metric-bar"><div class="bar-fill" id="tokenBar"></div></div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üí∞</div>
                            <div class="metric-value" id="costEstimate">$0.0000</div>
                            <div class="metric-label">Cost</div>
                            <div class="metric-bar"><div class="bar-fill" id="costBar"></div></div>
                        </div>
                    </div>

                    <div class="glass-card token-viz-card">
                        <h3>‚ú® Token Visualization</h3>
                        <div id="tokenDisplay" class="token-bubble-container">
                            <div class="empty-state">Start typing to see token breakdown...</div>
                        </div>
                    </div>

                    <div class="glass-card analysis-card">
                        <h3>üîç Prompt Analysis</h3>
                        <div id="promptAnalysis" class="analysis-content">
                            <div class="empty-state">Enter a prompt for AI optimization insights...</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- RESPONSE SIMULATOR TAB -->
        <section id="simulator" class="tab-content">
            <div class="glass-card">
                <h2 class="section-title">‚ö° Response Simulator</h2>
                <p>Simulate AI response times and streaming behavior</p>
                
                <div class="simulator-container">
                    <div class="sim-controls">
                        <label>Response Length (tokens): <span id="responseLengthValue">500</span></label>
                        <input type="range" id="responseLength" min="50" max="4000" step="50" value="500">
                        
                        <label>Network Latency: <span id="latencyValue">100ms</span></label>
                        <input type="range" id="latency" min="0" max="500" step="10" value="100">
                        
                        <button id="simulateBtn" class="btn-primary">‚ñ∂ Start Simulation</button>
                    </div>
                    
                    <div class="simulator-output">
                        <div class="streaming-container">
                            <div id="streamedResponse" class="streamed-text"></div>
                            <div class="typing-indicator" id="typingIndicator">
                                <span></span><span></span><span></span>
                            </div>
                        </div>
                        <div class="timing-metrics">
                            <div class="timing-item">
                                <span>Time to First Token</span>
                                <span id="ttft" class="timing-value">-</span>
                            </div>
                            <div class="timing-item">
                                <span>Total Response Time</span>
                                <span id="totalTime" class="timing-value">-</span>
                            </div>
                            <div class="timing-item">
                                <span>Tokens/Second</span>
                                <span id="tps" class="timing-value">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTEXT VISUALIZER TAB -->
        <section id="context" class="tab-content">
            <div class="glass-card">
                <h2 class="section-title">üéØ Context Window Visualizer</h2>
                <p>Understand how context windows fill up with tokens</p>
                
                <div class="context-container">
                    <div class="context-window">
                        <div class="context-header">
                            <span>Context Window: <span id="windowSize">128K</span> tokens</span>
                            <span class="context-used" id="contextUsed">0 / 128,000</span>
                        </div>
                        <div class="context-visual">
                            <div class="context-fill" id="contextFill"></div>
                            <div class="context-markers">
                                <div class="marker system-marker" title="System Prompt (~100 tokens)">System</div>
                                <div class="marker conversation-marker" title="Conversation History">Conversation</div>
                                <div class="marker prompt-marker" title="Current Prompt">Prompt</div>
                                <div class="marker response-marker" title="Response Space">Response</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="context-controls">
                        <button class="btn-secondary" onclick="addMessage('user')">+ User Message</button>
                        <button class="btn-secondary" onclick="addMessage('assistant')">+ Assistant Reply</button>
                        <button class="btn-secondary" onclick="addMessage('system')">+ System</button>
                        <button class="btn-danger" onclick="clearContext()">Clear All</button>
                    </div>
                    
                    <div class="message-list" id="messageList"></div>
                </div>
            </div>
        </section>

        <!-- MODEL COMPARISON TAB -->
        <section id="models" class="tab-content">
            <div class="glass-card">
                <h2 class="section-title">üìä Model Comparison</h2>
                <p>Compare costs and capabilities across models</p>
                
                <div class="model-grid">
                    <div class="model-card">
                        <div class="model-header">
                            <h3>GPT-4 Turbo</h3>
                            <div class="model-status active">Active</div>
                        </div>
                        <div class="model-specs">
                            <div class="spec-item">
                                <span>Context</span>
                                <span><strong>128K</strong> tokens</span>
                            </div>
                            <div class="spec-item">
                                <span>Input Cost</span>
                                <span><strong>$10.00</strong> / 1M</span>
                            </div>
                            <div class="spec-item">
                                <span>Output Cost</span>
                                <span><strong>$30.00</strong> / 1M</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="model-card">
                        <div class="model-header">
                            <h3>Claude 3.5 Sonnet</h3>
                            <div class="model-status active">Active</div>
                        </div>
                        <div class="model-specs">
                            <div class="spec-item">
                                <span>Context</span>
                                <span><strong>200K</strong> tokens</span>
                            </div>
                            <div class="spec-item">
                                <span>Input Cost</span>
                                <span><strong>$3.00</strong> / 1M</span>
                            </div>
                            <div class="spec-item">
                                <span>Output Cost</span>
                                <span><strong>$15.00</strong> / 1M</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="model-card">
                        <div class="model-header">
                            <h3>Gemini 1.5 Pro</h3>
                            <div class="model-status beta">Beta</div>
                        </div>
                        <div class="model-specs">
                            <div class="spec-item">
                                <span>Context</span>
                                <span><strong>2M</strong> tokens</span>
                            </div>
                            <div class="spec-item">
                                <span>Input Cost</span>
                                <span><strong>$1.50</strong> / 1M</span>
                            </div>
                            <div class="spec-item">
                                <span>Output Cost</span>
                                <span><strong>$2.00</strong> / 1M</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="cost-chart-container">
                    <h3>Cost Comparison Chart</h3>
                    <canvas id="costChart" width="800" height="400"></canvas>
                </div>
            </div>
        </section>
    </main>

    <script src="js/app.js"></script>
</body>
</html>
